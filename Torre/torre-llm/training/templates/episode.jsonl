{"id":"ex1","domain":"programming","logs":{"lint":"TS2304: Cannot find name 'SettingsPage'"},"files_before":{"src/components/Test.tsx":"export function Test(){ return <SettingsPage/> }"},"patch_unified":"--- a/src/components/Test.tsx\n+++ b/src/components/Test.tsx\n@@ -1 +1,3 @@\n-export function Test(){ return <SettingsPage/> }\n+import { SettingsPage } from './SettingsPage';\n+export function Test(){ return <SettingsPage/> }\n","tests_added":null,"outcome":{"lint_clean":true,"tests_pass":true,"apply_clean":true},"lenses_applied":["ARISTÓTELES","DIJKSTRA","HOARE"],"notes":"Missing import → patch mínimo no topo"}
{"id":"ex2","domain":"problem_solving","logs":{"runtime":"ReferenceError: base is not defined at SettingsPage.tsx:1"},"files_before":{"src/components/SettingsPage.tsx":"import React from 'react';\nexport function SettingsPage(){ return <div/> }\n"},"patch_unified":"--- a/src/components/SettingsPage.tsx\n+++ b/src/components/SettingsPage.tsx\n@@ -1,2 +1,9 @@\n+// @fortaleza: shim para garantir que `base` existe (Vite/Tauri)\n+const base:any = (globalThis as any).__FORTALEZA_BASE__ ?? ((import.meta as any)?.env?.BASE_URL ?? '/');\n+(globalThis as any).__FORTALEZA_BASE__ = base;\n import React from 'react';\n export function SettingsPage(){ return <div/> }\n","tests_added":null,"outcome":{"lint_clean":true,"tests_pass":true,"apply_clean":true},"lenses_applied":["ARISTÓTELES","DIJKSTRA","SALTZER"],"notes":"Correção idempotente, guardrail de runtime"}
{"id":"ex3","domain":"forensic_audit","logs":{"tests":"1 failing: invariant violated"},"files_before":{"src/lib/calc.ts":"export function div(a:number,b:number){ return a/b }\n"},"patch_unified":"--- a/src/lib/calc.ts\n+++ b/src/lib/calc.ts\n@@ -1 +1,7 @@\n-export function div(a:number,b:number){ return a/b }\n+export function div(a:number,b:number){\n+  if (b === 0) throw new Error('divide by zero');\n+  return a/b;\n+}\n","tests_added":{"src/lib/calc.test.ts":"import {div} from './calc';\n+test('no zero division',()=>{ expect(()=>div(1,0)).toThrow() })\n+"},"outcome":{"lint_clean":true,"tests_pass":true,"apply_clean":true},"lenses_applied":["HOARE","MEYER","HINDLEY-MILNER"],"notes":"Pré-condição explícita; teste garante contrato"}
