[
  {
    "file": "tests/test_deploy.py",
    "base_language": "python",
    "smell_detected": true,
    "line_number": 7,
    "offending_line": "rm -rf /tmp/build/        # <-- Linha problemática: Bash em meio ao Python!",
    "intruder_language": "bash",
    "severity": "BLOCKING",
    "explanation": "Linha Bash embutida em arquivo Python viola arquetipo (core/archetypes/python.schema.yaml); caracterizado como mistake crítico, artigo ART-02 e SOP-A2 da TORRE. Shell code inline é barrado para garantir controle e rastreabilidade."
  },
  {
    "file": "src/userService.ts",
    "base_language": "typescript",
    "smell_detected": true,
    "line_number": 6,
    "offending_line": "delete from admins where is_active = false; // <-- Linha problemática: SQL solto em TypeScript!",
    "intruder_language": "sql",
    "severity": "BLOCKING",
    "explanation": "Linha SQL solta em arquivo TypeScript viola schema canônico (core/archetypes/typescript.schema.yaml). Só aceito SQL via query parametrizada/processo seguro. SOP-A2/ART-02/ART-04 obrigam estrutura ética e rastreável."
  },
  {
    "file": "docker-compose.yaml",
    "base_language": "yaml",
    "smell_detected": true,
    "line_number": 10,
    "offending_line": "function onStart() { console.log('Server started'); } # <-- Erro: função JS dentro do YAML!",
    "intruder_language": "javascript",
    "severity": "BLOCKING",
    "explanation": "Bloco JavaScript encontrado em YAML viola arquetipo e anti-padrão documentado (core/archetypes/yaml.schema.yaml). Não permitido inserir código dinâmico JS em configs YAML. ART-02 e SOP-A2."
  }
]
